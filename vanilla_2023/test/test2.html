<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/html/css/reset.css">
    <style>
        #wrap {background: cadetblue;}
        .header {position: sticky; top: 0; padding: 20px; font-size: 20px; color: #000; background: chocolate;}
        .scrList > li {padding: 200px 50px; border: 2px solid #000; font-size: 18px; color: #000; box-sizing: border-box; transition: background .35s linear; background: darkcyan;}
        .scrList > li.active {background: chartreuse;}
        .text {font-size: 20px; color: #000;}
        .bar {display: block; width: 0; height: 3px; background: #000;}
    </style>
</head>
<body>
    <div id="wrap">
        <div class="header">
            <span class="text">0%</span>
            <span class="bar"></span>
        </div>
        <div class="srcWrap">
            <ul class="scrList">
                <li>
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                </li>
                <li>
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                </li>
                <li>
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                </li>
            </ul>
        </div>
    </div>

    <script type="text/javascript">
        (()=>{

            console.log('qq');


            let yOffset, text, bar, lists, bodyElem, percent;

            function setPercent(){
                percent=Math.floor((yOffset/bodyElem)*100);
                text.textContent=percent+'%'; bar.style.width=percent+'%';
            }
            function setScrollLoop(){
                let offsetTop
                lists.forEach((el,i)=>{
                    offsetTop=el.offsetTop;
                    if(yOffset>=offsetTop){
                        el.classList.add('active');
                    }else{
                        el.removeAttribute('class');
                    }
                });
            }
            function init(){
                percent=0;
                yOffset=0;  bodyElem=document.querySelector('body').offsetHeight;
                bodyElem=bodyElem-window.innerHeight;
                window.addEventListener('DOMContentLoaded',()=>{
                    lists=document.querySelectorAll('.scrList>li');
                    text=document.querySelector('.text');
                    bar=document.querySelector('.bar');
                    setScrollLoop();setPercent();
                });
                window.addEventListener('scroll',()=>{
                    yOffset=window.pageYOffset;
                    setScrollLoop();
                    setPercent();
                });
                

            }
            init();

        })();
    </script>
    </script>
</body>
</html>