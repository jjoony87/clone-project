<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/html/css/reset.css">
    <style>
        #wrap {background: cadetblue;}
        .header {position: sticky; top: 0; padding: 20px; font-size: 20px; color: #000; background: chocolate;}
        .scrList > li {padding: 200px 50px; border: 2px solid #000; font-size: 18px; color: #000; box-sizing: border-box; transition: background .35s linear; background: darkcyan;}
        .scrList > li.active {background: chartreuse;}
        .text {font-size: 20px; color: #000;}
        .bar {display: block; width: 0; height: 3px; background: #000;}
    </style>
    <script type="text/javascript">
        window.onload=()=>{

            let yOffset = 0;
            const lists = document.querySelectorAll('.scrList > li');
            const txt = document.querySelector('.text');
            const bar = document.querySelector('.bar');
            const bodyH = document.querySelector('body').offsetHeight;
            const winH = window.innerHeight;
            const realH = bodyH - winH;
            let percent;
            console.log(realH);

            function scrollLoop(){
                lists.forEach((el) => {
                    const listElm = el;
                    if(yOffset >= listElm.offsetTop){
                        listElm.classList.add('active');
                    }else{
                        listElm.classList.remove('active');
                    }
                });
            }
            function setPercent(){
                percent = Math.floor((yOffset/realH)*100);
                txt.innerText = percent + '%';
                bar.style.width = percent + '%';

            }
            function init(){
                window.addEventListener('scroll', () => {
                    yOffset = window.pageYOffset;
                    scrollLoop();
                    setPercent();
                });
            }
            init();

        }
    </script>
</head>
<body>
    <div id="wrap">
        <div class="header">
            <span class="text">0%</span>
            <span class="bar"></span>
        </div>
        <div class="srcWrap">
            <ul class="scrList">
                <li>
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                </li>
                <li>
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                </li>
                <li>
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                </li>
            </ul>
        </div>
    </div>
</body>
</html>