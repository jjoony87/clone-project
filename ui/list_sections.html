<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/html/css/reset.css">
    <style>
        body {margin: 0; padding: 0;}
        ul, li {list-style: none; margin: 0; padding:0;}
        #wrap {background: cadetblue;}
        .header {position: sticky; top: 0; padding: 20px; font-size: 20px; color: #000; background: chocolate;}
        .scrList > li {padding: 200px 50px; border: 2px solid #000; font-size: 18px; color: #000; box-sizing: border-box; transition: background .35s linear; background: darkcyan;}
        .scrList > li.active {background: chartreuse;}
        .text {font-size: 20px; color: #000;}
        .bar {display: block; width: 0; height: 3px; background: #000;}
    </style>
    <script type="text/javascript">
        window.onload = function(){


            let yOffset = 0;
            let listOffsetTop = 0;
            let percent = 0;
            const bodyH = document.querySelector('#wrap').offsetHeight;
            const winH = window.innerHeight;
            const realH = bodyH - winH;
            const bar = document.querySelector('.bar');
            const txt = document.querySelector('.text');
            const list = document.querySelectorAll('.scrList > li');

            function setProperty(){

                percent = Math.floor((yOffset / realH) *100);

                for(let i=0; i<list.length; i++){
                    listOffsetTop = list[i].offsetTop;
                    if(yOffset >= listOffsetTop){
                        list[i].classList.add('active');
                    }else if(yOffset < listOffsetTop){
                        list[i].classList.remove('active');
                    }
                }
                return percent;
            }
            function setPercent(){
                
                txt.innerText = percent +'%';
                bar.style.width = percent + '%';

            }

            window.addEventListener('scroll', () => {
                yOffset = window.pageYOffset;
                setProperty();
                setPercent(percent);

            });

        }
    </script>
</head>
<body>
    <div id="wrap">
        <div class="header">
            <span class="text">0%</span>
            <span class="bar"></span>
        </div>
        <div class="srcWrap">
            <ul class="scrList">
                <li>
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                    scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />scroll List 01~<br />
                </li>
                <li>
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                    scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />scroll List 02~<br />
                </li>
                <li>
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                    scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />scroll List 03~<br />
                </li>
            </ul>
        </div>
    </div>
</body>
</html>